<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/index.css" />
    <script src="../js/index.js"></script>
    <title>Visa Card</title>

  </head>

        <body>
          <div class="main_container">
            <div class="logo_container">
              <div class="logo_container_left">
                <img src="../Images/icn_sim_new.png" width="50px" height="40px" />
                <img src="../Images/icn_signal_new.png" width="25px" height="20px" />
              </div>
              <div class="logo_container_right">
                <img src="../Images/app_icon_new.png" width="50px" height="40px" />
              </div>
            </div>
            <div class="card_number">
              <input
                type="tel"
                id="cardNumber"
                value="{{spaceCardNumber}}"
                width="fit-content"
                disabled
              />
            </div>
            <div class="expiry_container">
              <div class="expiry">
                <span> Expiry </span>
                <span>{{modifiedExpiryDate}} </span>
              </div>
              <div class="cvv">
                CVV <input type="password" value="{{cvv}}" id="hideCvvNumber" />
              </div>
            </div>
            <div class="card_holder">{{nameOnCard}}</div>
            <div class="footer">
              <div class="footer_left">
                <div class="footer_text" onclick="copyTextFromElement('cardNumber')">
                  <img src="../Images/copyToClipBoard.svg" width="50px" height="40px" />
                  <span> Copy Number </span>
                </div>
                <div class="footer_text" onclick="switchVisibility()">
                  <img src="../Images/eye.svg" width="50px" height="40px" />
                  <span> Show CVV </span>
                </div>
              </div>
              <img src="../Images/visa_new.png" width="70px" height="20px" />
            </div>
          </div>
        </body>
      </html>

      <script type="text/javascript">
        const switchVisibility = () => {
          const cvvNumberField = document.querySelector("#hideCvvNumber");
          if (cvvNumberField.getAttribute("type") === "tel") {
            cvvNumberField.setAttribute("type", "password");
          } else cvvNumberField.setAttribute("type", "tel");
        };

        function copyTextFromElement(elementID) {
          let element = document.getElementById(elementID); //select the element
          let elementText = element.value; //get the text content from the element
          copyText(elementText); //use the copyText function below
        }
        //Copy Function
        function copyText(text) {
          navigator.clipboard.writeText(text);
          console.log(navigator, "navigator");
        }
    </script>
  </head>
</html>
